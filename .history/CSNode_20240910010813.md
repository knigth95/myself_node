### 计网

#### TCP三次握手过程

TCP（传输控制协议）三次握手是建立一个可靠的连接的过程，确保数据能够在两端之间顺利传输。

1. **SYN**：客户端发送一个带有SYN（同步序列编号）标志的包到服务器以初始化一个连接，同时随机生成一个序列号（ISN，Initial Sequence Number）。

2. **SYN-ACK**：服务器收到客户端的SYN请求后，如果同意建立连接，则会发送一个SYN-ACK包作为响应。这个包中也会包含服务器的ISN，并且对客户端的ISN进行确认（ACK，Acknowledgement）。

3. **ACK**：客户端收到服务器的SYN-ACK包后，会发送一个带有ACK标志的包作为最后的确认。这个ACK包会对服务器的ISN进行确认，并且也会包含客户端的ISN。

完成这三个步骤后，TCP连接建立

#### TCP四次挥手过程

TCP四次挥手是终止一个连接的过程，确保数据传输完成后再断开连接。

1. **FIN**：客户端发送一个带有FIN（结束）标志的包到服务器，请求关闭连接。

2. **ACK**：服务器收到FIN包后，发送一个ACK包作为确认，告知客户端它已经收到了关闭请求。

3. **FIN**：服务器发送一个带有FIN标志的包到客户端，请求关闭它的那端连接。

4. **ACK**：客户端收到服务器的FIN包后，发送一个ACK包作为最后的确认。

完成这四个步骤后，TCP连接被完全关闭。

#### TIME_WAIT状态

客户端在完成四次挥手的前三个步骤后，会进入TIME_WAIT状态。这个状态的目的是确保：

1. **数据传输完成**：确保所有数据都已经被对方接收，包括延迟到达的重复数据包。

2. **旧连接识别**：防止新建立的连接与旧连接混淆。如果在TIME_WAIT时间内又尝试建立一个新的连接，那么新连接的初始序列号可能会与旧连接的重复数据包混淆。

3. **确保ACK到达**：确保服务器收到了客户端的最后一个ACK包。如果服务器没有收到，它可以重新发送FIN包，客户端可以再次发送ACK包。

### CLOSING状态

CLOSING状态是TCP四次挥手过程中的一个中间状态，发生在双方都发送了FIN包，但都还没有收到对方的ACK包时。这个状态表明双方都已经同意关闭连接，但还没有完全完成关闭过程。在CLOSING状态，双方都有可能还有未发送完的数据。

### 为什么等待一段时间

在TIME_WAIT状态等待的这段时间（通常为2MSL，即最大报文段生存时间的两倍）是为了确保：

1. **数据包在网络中消失**：确保即使在网络中延迟的数据包也能被处理，不会干扰新的连接。

2. **足够的时间进行重传**：如果服务器没有收到客户端的最终ACK，它会重传FIN包。客户端在TIME_WAIT状态等待足够长的时间，可以确保能够收到并响应任何重传的FIN包。

等待时间是TCP/IP协议的一部分，它有助于确保网络通信的可靠性和数据的完整性。 

#### 网页状态码
1. **1xx（信息性状态码）**：
   - `100 Continue`：客户端可以继续发送请求的剩余部分。
   - `101 Switching Protocols`：服务器将遵从客户端的请求转换到另外一种协议。

2. **2xx（成功状态码）**：
   - `200 OK`：请求成功。
   - `201 Created`：成功创建了新的资源。
   - `202 Accepted`：服务器已接受请求，但尚未处理。
   - `204 No Content`：服务器成功处理了请求，但没有返回任何内容。

3. **3xx（重定向状态码）**：
   - `301 Moved Permanently`：请求的资源已被永久移动到新位置。
   - `302 Found`：请求的资源临时被移动到另一个URL。
   - `303 See Other`：建议客户端使用GET方法获取资源。
   - `304 Not Modified`：资源未修改，可以使用缓存的版本。
   - `307 Temporary Redirect`：临时重定向，与302类似，但不允许从POST变成GET。
   - `308 Permanent Redirect`：永久重定向，与301类似，但不允许从POST变成GET。

4. **4xx（客户端错误状态码）**：
   - `400 Bad Request`：服务器无法理解请求，请求可能存在语法错误。
   - `401 Unauthorized`：请求需要用户的身份验证。
   - `403 Forbidden`：服务器理解请求，但拒绝执行。
   - `404 Not Found`：服务器找不到请求的资源。
   - `405 Method Not Allowed`：请求方法不被允许。
   - `408 Request Timeout`：请求超时。
   - `409 Conflict`：请求与服务器当前状态冲突。
   - `410 Gone`：请求的资源已被永久删除。
   - `413 Payload Too Large`：请求实体过大。
   - `414 URI Too Long`：请求的URI过长。
   - `415 Unsupported Media Type`：不支持的媒体类型。

5. **5xx（服务器错误状态码）**：
   - `500 Internal Server Error`：服务器遇到错误，无法完成请求。
   - `501 Not Implemented`：服务器不支持请求的功能，无法完成请求。
   - `502 Bad Gateway`：作为网关或代理工作的服务器从上游服务器收到无效响应。
   - `503 Service Unavailable`：服务器目前无法使用（由于超载或停机维护）。
   - `504 Gateway Timeout`：网关或代理服务器在等待响应时超时。
   - `505 HTTP Version Not Supported`：服务器不支持请求的HTTP协议版本。

### 数据结构
### 操作系统
#### 进程与线程的区别
- **进程**：是操作系统进行资源分配和调度的基本单位。每个进程都有自己的地址空间，进程之间相互独立。
- **线程**：是进程中执行的最小单元，是CPU调度和执行的实体。线程是进程的一部分，共享进程的资源。
1. **资源分配**：
   - **进程**：每个进程都有自己独立的资源，如内存地址空间、文件描述符等。
   - **线程**：线程之间共享进程的资源，包括内存、文件描述符等，但每个线程有自己的执行栈。

2. **上下文切换**：
   - **进程**：进程间的上下文切换开销较大，因为涉及到不同的内存地址空间。
   - **线程**：线程间的上下文切换开销较小，因为它们共享相同的内存地址空间。

3. **创建和销毁**：
   - **进程**：创建和销毁进程的开销相对较大，因为需要分配或回收独立的资源。
   - **线程**：创建和销毁线程的开销相对较小，因为它们共享进程的资源。

4. **独立性**：
   - **进程**：进程之间是独立的，一个进程的崩溃不会直接影响到其他进程。
   - **线程**：线程之间不是完全独立的，一个线程的崩溃可能会影响到同一进程中的其他线程。

5. **通信方式**：
   - **进程**：进程间通信（IPC）通常需要使用特殊的机制，如管道、消息队列、共享内存等。
   - **线程**：线程间通信通常更简单，因为它们共享相同的内存空间。

6. **操作系统支持**：
   - **进程**：操作系统为每个进程提供独立的上下文和资源。
   - **线程**：操作系统通常支持线程的创建和管理，但具体的实现可能依赖于线程库或操作系统的线程模型。

7. **性能**：
   - **进程**：由于进程间资源隔离，进程的创建和管理开销较大，可能影响性能。
   - **线程**：线程共享资源，上下文切换开销小，通常能提供更好的性能。

### 数据库
##### 数据库索引是数据库表中一个或多个列的数据结构，可以加快数据检索速度。
- **索引类型**：
  - **主键索引**：唯一标识表中每一行的索引。
  - **唯一索引**：确保列中的所有值都是唯一的。
  - **复合索引**：在两个或多个列上创建的索引。
  - **全文索引**：用于搜索文本中的关键字，而不是比较和排序值。
-  **优点**：
   - 快速检索数据。
   - 排序和分组数据。
- **缺点**
   - 占用额外的磁盘空间。
   - 可能会降低插入、删除和更新操作的速度，因为索引也需要被更新。
  
### 应用场景
#### TCP和UDP的区别及应用场景

TCP（传输控制协议）和UDP（用户数据报协议）是两种常用的网络传输层协议，它们在网络通信中扮演着重要的角色。

##### TCP的特点：
1. **面向连接**：在数据传输前需要建立连接。
2. **可靠的**：通过确认和重传机制保证数据的可靠传输。
3. **基于字节流**：数据被看作是字节流，需要进行分包和组包。
4. **拥塞控制**：根据网络状况调整数据传输速率。
5. **流量控制**：通过窗口机制控制发送方的发送速率。

##### UDP的特点：
1. **无连接**：不需要建立连接，直接发送数据。
2. **不可靠**：不保证数据的可靠传输，可能发生数据丢失。
3. **基于数据报**：每个数据报独立发送，不进行分包和组包。
4. **没有拥塞控制**：不根据网络状况调整数据传输速率。
5. **没有流量控制**：发送方可以自由发送数据，不考虑接收方的处理能力。

##### 应用场景：
- **TCP应用场景**：
  - 需要可靠传输的应用，如网页浏览（HTTP）、文件传输（FTP）、邮件传输（SMTP）。
  - 需要有序和错误检查的应用，如数据库事务处理。
  - 需要持久连接的应用，如远程登录（SSH）。

- **UDP应用场景**：
  - 实时应用，如视频会议、在线游戏，这些应用可以容忍一定程度的数据丢失，但要求低延迟。
  - 广播或多播应用，如网络电视、广播消息。
  - 简单查询和响应协议，如DNS查询。